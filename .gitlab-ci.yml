image: gcc
variables:
  GIT_STRATEGY: clone
  GIT_SUBMODULE_STRATEGY: recursive
# Use the official gcc image
stages:
    - build
    - test_structure
CoMMA:
    stage: build
    before_script:
    - apt-get update && apt-get -y install cmake && apt-get -y install libpython3.9-dev
    - cd Catch2
    - git checkout v2.x
    - cd ..
    script:
        - mkdir build
        - cd build
        - cmake ..
        - make
    artifacts:
        paths:
        - build/
Test:
 
    stage: test_structure
    script:
      - cd build
      - ./Comma_test
