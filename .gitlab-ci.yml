variables:
  GIT_STRATEGY: clone
  GIT_SUBMODULE_STRATEGY: recursive
stages:
    - build 
    - test
    - performance
    - documentation
image: gcc
before_script:
 - apt-get update 
 - apt-get -y install cmake 
 - apt-get -y install libpython3.9-dev
 - apt-get -y install doxygen
CoMMA:
    stage: build
    script:
        - mkdir build
        - cd build
        - cmake ..
        - make
test_a:
    stage: test
    needs: [CoMMA]
    script:
        - cd build
        - ./Comma_test -r junit
    artifacts:
        reports:
            junit: report.xml
pages:
    stage: documentation
    script:
        - doxygen Documentation/Doxyfile
        - mv documentation/html/ public/
    artifacts:
        paths:
            - public




