variables:
  GIT_STRATEGY: clone
  GIT_SUBMODULE_STRATEGY: recursive
stages:
    - build 
    - test
    - performance
    - documentation
image: gcc
before_script:
 - apt-get update 
 - apt-get -y install cmake 
 - apt-get -y install libpython3.9-dev
 - apt-get -y install doxygen
 - apt-get -y install inux-tools-common 
 - apt-get -y install linux-tools-generic
CoMMA:
    stage: build
    script:
        - mkdir build
        - cd build
        - cmake ..
        - make
test_a:
    stage: test
    needs: [CoMMA]
    script:
        - cd build
        - ./Comma_test
Perf_Linux_tools:
    stage: performance
    needs: [CoMMA]
    script:
      - cd build
      - perf record -g ./Profiling_perf
      - perf report
    artifacts:
        paths:
        - build/perf.data
pages:
    stage: documentation
    script:
        - doxygen Documentation/Doxyfile
        - mv documentation/html/ public/
    artifacts:
        paths:
            - public




